---
title: Remove
description: How to remove PostgreSQL extensions
icon: PackageOpen
---

## Remove Extension

To uninstall an extension, you typically need to run the [**`DROP EXTENSION`**](https://www.postgresql.org/docs/current/sql-dropextension.html) statement:

```sql
DROP EXTENSION "<extname>";
```

Note that if other extensions or database objects depend on this extension, you’ll need to remove those dependencies first before uninstalling the extension.

Alternatively, you can forcefully uninstall the extension and all its dependencies in one operation:

```sql
DROP EXTENSION "<extname>" CASCADE;
```

> Warning: The `CASCADE` option will delete all objects that depend on this extension, including database objects, functions, views, etc. Use with caution!

Not all extensions are installed via the `CREATE EXTENSION` statement. These extensions don’t require explicit execution of the `DROP EXTENSION` statement. Please refer to the [**Extensions Without DDL**](https://pigsty.io/ext/usage/create/#extensions-without-ddl) section.

------

## Remove Loading

If you’re using an extension that requires [**dynamic loading**](https://pigsty.io/ext/usage/load/) (which modifies the `shared_preload_libraries` parameter), you need to first [**re-confnigure**](https://pigsty.io/docs/pgsql/admin/#config-cluster) the `shared_preload_libraries` parameter.

Remove the extension name from `shared_preload_libraries` and restart the database cluster for the changes to take effect.

For extensions that need dynamic loading, refer to the [**Extensions that Need Loading**](https://pigsty.io/ext/usage/load/#extensions-that-need-loading) list.

------

## Uninstall Package

After removing the extension (logical object) from **all databases** in the cluster, you can safely uninstall the extension’s software package. Ansible commands can help you do this conveniently:

```bash
ansible <cls> -m package -a "name=<extname> state=absent"
```

You can also use [**`pig`**](https://pigsty.io/ext/pig/), or `apt`/`yum` commands directly to uninstall.

If you don’t know the extension package name, you can refer to the [**Extension List**](https://pigsty.io/ext/list/) or check the extension package name mapping defined in [**`roles/node_id/vars`**](https://github.com/pgsty/pigsty/blob/main/roles/node_id/vars/).